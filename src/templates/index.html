<!DOCTYPE html>
<html>
<head>
    <title>Video OCR</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="static/favicon.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Video OCR</h1>
        
        <!-- 작업 목록(큐) 뷰 -->
        <div id="task-list-view">
            <h2>작업 큐</h2>
            <table class="table" id="task-list">
                <thead>
                    <tr>
                        <th>파일명</th>
                        <th>진행 상황</th>
                        <th>상태</th>
                        <th>완료 예상 시간</th>
                        <th>작업 제어</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 작업 row들이 동적으로 추가됩니다. -->
                </tbody>
            </table>
            <button id="new-ocr-btn" class="btn btn-primary float-right">새 OCR 작업 추가</button>
        </div>
        
        <!-- OCR 작업 생성 뷰 (초기엔 숨김) -->
        <div id="ocr-creation-view" style="display:none;">
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="file-area">
                        <input type="file" id="video-upload" accept="video/*" class="form-control-file" required>
                        <div class="file-dummy">
                            <span class="default">파일을 선택하려면 클릭하거나 파일을 여기에 드래그하세요.</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 position-relative">
                    <div id="video-container" class="position-relative">
                        <video id="video" controls class="w-100" disablePictureInPicture controlslist="nofullscreen nodownload noplaybackrate"></video>
                        <!-- 바운딩 박스 -->
                        <div id="bounding-box">
                            <!-- 드래그 핸들 -->
                            <div class="handle top"></div>
                            <div class="handle right"></div>
                            <div class="handle bottom"></div>
                            <div class="handle left"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-md-2">
                    <label for="startTimeInput">OCR 시작 시간 (초):</label>
                    <input type="text" id="startTimeInput" placeholder="mm:ss" value="00:00" class="form-control">
                </div>
                <div class="col-md-2">
                    <label for="endTimeInput">OCR 종료 시간 (초):</label>
                    <input type="text" id="endTimeInput" placeholder="mm:ss" value="00:00" class="form-control">
                </div>
                <div class="col-md-8"></div>
            </div>
            <div class="row mt-4">
                <div class="col-md-12">
                    <button id="back-to-list-btn" class="btn btn-secondary float-left">작업 큐로 돌아가기</button>
                    <button id="start-ocr-btn" class="btn btn-success float-right">OCR 시작</button>
                </div>
            </div>
        </div>
        
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
